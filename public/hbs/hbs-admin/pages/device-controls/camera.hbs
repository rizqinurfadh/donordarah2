{{#>src/hbs/page}}

{{#*inline "head-block"}}
<meta name="description" content="Upload images taken directly from the camera." />
<title>Admin 4B Â· Camera</title>
{{/inline}}

{{#*inline "body-block"}}
<div class="app">
  {{{ include 'src/hbs/includes/sidebar.html' }}}
  <div class="app-content">
    <div class="content-header">
      {{{ include 'src/hbs/includes/navbar.html' }}}
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item">Device controls</li>
          <li class="breadcrumb-item">Camera</li>
        </ol>
      </nav>
    </div>
    <div class="content-body">
      <div class="container">
        <h1>Camera</h1>
        <p>
          This session introduces methods and events to control and interact with the camera of the device enabling users to take pictures.
          See the example below:
        </p>
        <div class="form-group">
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal-camera">
            <i class="fa fa-camera"></i> Take a picture
          </button>
        </div>
        <div class="form-group">
          <img id="snapshot-preview" src="/docs/assets/img/unknown.png" class="img-thumbnail">
        </div>
        <p>
          In this example, the camera is turned on and off according to the events show and hide of the modal. Refer to
          <a href="https://getbootstrap.com/docs/4.1/components/modal/">bootstrap documentation</a> for more details about the modal plugin.
        </p>
        <div class="source-code">
          <a href="#camera-example" data-toggle="collapse">
            <i class="fa fa-code"></i> Source code
          </a>
          <div id="camera-example" class="collapse">
            <div class="nav nav-tabs">
              <a href="#camera-html" class="active" data-toggle="tab">HTML</a>
              <a href="#camera-js" data-toggle="tab">JavaScript</a>
            </div>
            <div class="tab-content">
              <div id="camera-html" class="tab-pane active">
                <pre><code class="html">{{ include 'src/hbs/includes/code-examples/device-controls/camera/camera.html' }}</code></pre>
              </div>
              <div id="camera-js" class="tab-pane">
                <pre><code class="js">{{ include 'src/hbs/includes/code-examples/device-controls/camera/camera.js' }}</code></pre>
              </div>
            </div>
          </div>
        </div>
        <div class="callout callout-warning">
          <h5>Browser compatibility</h5>
          <p>
            IE 11 and below currently does not support <code>getUserMedia</code>.
            However, there is some polyfills available that you can explore.
          </p>
        </div>
        <h2>Options</h2>
        <p>
          Options can be passed via data attributes.
        </p>
        <div class="card">
          <div class="card-header">
            Options
          </div>
          <div class="table-responsive">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Option</th>
                  <th>Type</th>
                  <th>Default</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-nowrap"><code>data-size</code></td>
                  <td>string</td>
                  <td>320x240</td>
                  <td>The size of the picture. Invalid size will be converted to default size.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="source-code">
          <a href="#camera-options" data-toggle="collapse">
            <i class="fa fa-code"></i> Source code
          </a>
          <div id="camera-options" class="collapse">
            <pre><code class="html">{{ include 'src/hbs/includes/code-examples/device-controls/camera/camera-options.html' }}</code></pre>
          </div>
        </div>
        <h2>Methods</h2>
        <p>
          A few methods are available to control the camera.
        </p>
        <div class="card">
          <div class="card-header">
            Methods
          </div>
          <div class="table-responsive">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Method</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-nowrap"><code>camera('play')</code></td>
                  <td>Starts the camera. Triggers the event <code>camera:play</code> or <code>camera:error</code>.</td>
                </tr>
                <tr>
                  <td class="text-nowrap"><code>camera('stop')</code></td>
                  <td>Stop the camera. Triggers the event <code>camera:stop</code>.</td>
                </tr>
                <tr>
                  <td class="text-nowrap"><code>camera('snapshot')</code></td>
                  <td>Take a picture from the camera. Triggers the event <code>camera:snapshot</code>.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="source-code">
          <a href="#camera-methods" data-toggle="collapse">
            <i class="fa fa-code"></i> Source code
          </a>
          <div id="camera-methods" class="collapse">
            <pre><code class="js">{{ include 'src/hbs/includes/code-examples/device-controls/camera/camera-methods.js' }}</code></pre>
          </div>
        </div>
        <h2>Events</h2>
        <p>
          Events triggered from the camera can be listened to write custom logic.
        </p>
        <div class="card">
          <div class="card-header">
            Events
          </div>
          <div class="table-responsive">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Event</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-nowrap"><code>camera:play</code></td>
                  <td>Triggered after the camera starts to play.</td>
                </tr>
                <tr>
                  <td class="text-nowrap"><code>camera:error</code></td>
                  <td>Triggered if any error occur during the start of the camera.</td>
                </tr>
                <tr>
                  <td class="text-nowrap"><code>camera:notSupported</code></td>
                  <td>Triggered if the browser does not support camera.</td>
                </tr>
                <tr>
                  <td class="text-nowrap"><code>camera:stop</code></td>
                  <td>Triggered after the camera stop.</td>
                </tr>
                <tr>
                  <td class="text-nowrap"><code>camera:snapshot</code></td>
                  <td>Triggered after a picture is taken. Blob and data URL are ready.</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="source-code">
          <a href="#camera-events" data-toggle="collapse">
            <i class="fa fa-code"></i> Source code
          </a>
          <div id="camera-events" class="collapse">
            <pre><code class="js">{{ include 'src/hbs/includes/code-examples/device-controls/camera/camera-events.js' }}</code></pre>
          </div>
        </div>
      </div>
      <div id="modal-camera" class="modal fade" tabindex="-1" data-backdrop="static">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">
                <i class="fa fa-camera"></i> Camera
              </h5>
            </div>
            <div class="modal-body">
              <p class="text-center d-none">Not supported</p>
              <video id="camera" class="camera" data-size="320x240"></video>
            </div>
            <div class="modal-footer">
              <button id="button-snapshot" type="button" class="btn btn-info">Take a picture</button>
              <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Turn off</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{{/inline}}

{{/src/hbs/page}}
